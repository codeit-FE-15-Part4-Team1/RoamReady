import { ReactNode } from 'react';

import { cn } from '../../../libs/cn';
import { useSelect } from './useSelect';

/**
 * ê°œë³„ ì„ íƒ ì˜µì…˜ ì»´í¬ë„ŒíŠ¸
 * í´ë¦­ ì‹œ í•´ë‹¹ ê°’ìœ¼ë¡œ ì„ íƒë˜ê³  ë“œë¡­ë‹¤ìš´ì´ ë‹«í™ë‹ˆë‹¤.
 *
 * @param value - ì„ íƒ ì‹œ ì„¤ì •ë  ê°’
 * @param children - ì˜µì…˜ì— í‘œì‹œë  ë‚´ìš©
 * @param className - ì¶”ê°€ CSS í´ë˜ìŠ¤ëª…
 *
 * @example
 * ```tsx
 * <SelectItem value="travel">ğŸ§³ ì—¬í–‰</SelectItem>
 * <SelectItem value="food">ğŸ½ï¸ ìŒì‹</SelectItem>
 * ```
 */
export default function SelectItem({
  value,
  children,
  className,
}: {
  value: string;
  children: ReactNode;
  className?: string;
}) {
  const { onValueChange, setIsOpen, disabled } = useSelect();

  const handleClick = () => {
    if (disabled) return;
    onValueChange?.(value);
    setIsOpen(false);
  };

  return (
    <button
      onClick={handleClick}
      disabled={disabled}
      className={cn(
        'h-fit w-full cursor-pointer px-12 py-6 text-left transition-colors hover:bg-gray-100',
        disabled && 'cursor-not-allowed opacity-50 hover:bg-transparent',
        className,
      )}
    >
      {children}
    </button>
  );
}
